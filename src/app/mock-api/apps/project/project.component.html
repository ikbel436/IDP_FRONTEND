<div
    class="sm:absolute sm:inset-0 flex flex-col flex-auto min-w-0 sm:overflow-hidden bg-card dark:bg-transparent"
>
    <!-- Header -->
    <div
        class="relative flex flex-col sm:flex-row flex-0 sm:items-center sm:justify-between py-8 px-6 md:px-8 border-b"
    >
        <!-- Loader -->
        <div class="absolute inset-x-0 bottom-0" *ngIf="!isloaded">
            <mat-progress-bar [mode]="'indeterminate'"></mat-progress-bar>
        </div>
        <!-- Title -->
        <div class="text-4xl font-extrabold tracking-tight">Inventory</div>

        <!-- Actions -->
        <div class="flex shrink-0 items-center mt-6 sm:mt-0 sm:ml-4">
            <!-- Search -->
            <mat-form-field
                class="fuse-mat-dense fuse-mat-rounded min-w-64"
                [subscriptSizing]="'dynamic'"
            >
                <mat-icon
                    class="icon-size-5"
                    matPrefix
                    [svgIcon]="'heroicons_solid:magnifying-glass'"
                ></mat-icon>
                <input
                    matInput
                    [formControl]="searchInputControl"
                    [autocomplete]="'off'"
                    [placeholder]="'Search products'"
                />
            </mat-form-field>
            <!-- Add product button -->
            <button
                class="ml-4"
                mat-flat-button
                [color]="'primary'"
                (click)="createProject()"
            >
                <mat-icon [svgIcon]="'heroicons_outline:plus'"></mat-icon>
                <span class="ml-2 mr-1">Add</span>
            </button>
        </div>
    </div>

    <!-- Main -->
    <div class="flex flex-auto overflow-hidden" *ngIf="isloaded">
        <!-- Products list -->
        <div
            class="flex flex-col flex-auto sm:mb-18 overflow-hidden sm:overflow-y-auto"
        >
            <ng-container>
                <ng-container *ngIf="testProjects.length > 0; else noProjects">
                    <div class="grid">
                        <!-- Header -->
                        <div
                            class="inventory-grid z-10 sticky top-0 grid gap-4 py-4 px-6 md:px-8 shadow text-md font-semibold text-secondary bg-gray-50 dark:bg-black dark:bg-opacity-5"
                            matSort
                            matSortDisableClear
                        >
                            <div></div>
                            <div
                                class="hidden md:block"
                                [mat-sort-header]="'sku'"
                            >
                                SKU
                            </div>
                            <div [mat-sort-header]="'name'">Name</div>
                            <div
                                class="hidden sm:block"
                                [mat-sort-header]="'price'"
                            >
                                Price
                            </div>
                            <div
                                class="hidden lg:block"
                                [mat-sort-header]="'stock'"
                            >
                                Stock
                            </div>
                            <div
                                class="hidden lg:block"
                                [mat-sort-header]="'active'"
                            >
                                Active
                            </div>
                            <div class="hidden sm:block">Details</div>
                        </div>
                        <!-- Rows -->
                        <ng-container
                            *ngFor="let project of testProjects; trackBy: trackByFn"
                        >
                            <div
                                class="inventory-grid grid items-center gap-4 py-3 px-6 md:px-8 border-b"
                            >
                                <!-- Name -->
                                <div class="truncate">
                                    {{ project?.name }}
                                </div>
                                <!-- Reference -->
                                <div class="hidden sm:block">
                                    {{ project?.reference }}
                                </div>
                                <div class="hidden sm:block">
                                    {{ project?.provider }}
                                </div>
                                <!-- Lien -->
                                <div class="hidden lg:block">
                                    {{ project?.lien }}
                                </div>
                                <!-- Description -->
                                <div class="hidden lg:block">
                                    {{ project?.description }}
                                </div>
                            </div>
                            <div class="grid">
                                <ng-container
                                    *ngIf="selectedProduct?.id === project.id"
                                >
                                    <ng-container
                                        *ngTemplateOutlet="
                                            rowDetailsTemplate;
                                            context: { $implicit: project }
                                        "
                                    ></ng-container>
                                </ng-container>
                            </div>
                        </ng-container>
                    </div>
                    <!-- <mat-paginator
                        class="sm:absolute sm:inset-x-0 sm:bottom-0 border-b sm:border-t sm:border-b-0 z-10 bg-gray-50 dark:bg-transparent"
                        [ngClass]="{ 'pointer-events-none': isLoading }"
                        [length]="pagination.length"
                        [pageIndex]="pagination.page"
                        [pageSize]="pagination.size"
                        [pageSizeOptions]="[5, 10, 25, 100]"
                        [showFirstLastButtons]="true"
                    ></mat-paginator> -->
                </ng-container>
            </ng-container>
            <ng-template #rowDetailsTemplate let-project>
                <!-- Details template content remains unchanged -->
            </ng-template>
            <ng-template #noProducts>
                <div
                    class="p-8 sm:p-16 border-t text-4xl font-semibold tracking-tight text-center"
                >
                    There are no products!
                </div>
            </ng-template>
        </div>
    </div>

    <mat-tab label="Project">
        <ng-template matTabContent>
            <div class="grid grid-cols-1 sm:grid-cols-6 gap-6 w-full min-w-0">
                <!-- Budget distribution -->
                <!-- project-list.component.html -->

                <div
                    class="sm:col-span-6 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden"
                >
                    <div
                        class="text-lg font-medium tracking-tight leading-6 truncate"
                    >
                        Project Details
                    </div>
                    <div class="flex flex-col flex-auto mt-2 overflow-x-auto">
                        <table
                            class="min-w-240 overflow-y-visible"
                            mat-table
                            [dataSource]="projects"
                        >
                            <!-- Name -->
                            <ng-container matColumnDef="name">
                                <th mat-header-cell *matHeaderCellDef>Name</th>
                                <td mat-cell *matCellDef="let project">
                                    {{ project.name }}
                                </td>
                            </ng-container>

                            <!-- Reference -->
                            <ng-container matColumnDef="reference">
                                <th mat-header-cell *matHeaderCellDef>
                                    Reference
                                </th>
                                <td mat-cell *matCellDef="let project">
                                    {{ project.reference }}
                                </td>
                            </ng-container>

                            <!-- Provider -->
                            <ng-container matColumnDef="provider">
                                <th mat-header-cell *matHeaderCellDef>
                                    Provider
                                </th>
                                <td mat-cell *matCellDef="let project">
                                    {{ project.provider }}
                                </td>
                            </ng-container>

                            <!-- Description -->
                            <ng-container matColumnDef="description">
                                <th mat-header-cell *matHeaderCellDef>
                                    Description
                                </th>
                                <td mat-cell *matCellDef="let project">
                                    {{ project.description }}
                                </td>
                            </ng-container>

                            <!-- Add more project details as needed -->

                            <!-- Header and row definitions -->
                            <tr
                                mat-header-row
                                *matHeaderRowDef="[
                                    'name',
                                    'reference',
                                    'provider',
                                    'description'
                                ]"
                            ></tr>
                            <tr
                                mat-row
                                *matRowDef="
                                    let row;
                                    columns: [
                                        'name',
                                        'reference',
                                        'provider',
                                        'description'
                                    ]
                                "
                            ></tr>
                        </table>
                    </div>
                </div>

                <!-- Budget details -->
            </div>
        </ng-template>
    </mat-tab>
</div>
